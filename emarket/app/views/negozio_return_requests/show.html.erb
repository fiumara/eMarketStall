<h1>Dettaglio Reso</h1>

<p><strong>ID Reso:</strong> <%= @return_request.id %></p>
<p><strong>Ordine:</strong> <%= link_to "Ordine ##{@return_request.ordine.id}", ordine_path(@return_request.ordine) %></p>
<p><strong>Motivo:</strong> <%= @return_request.motivo %></p>
<p><strong>Data Richiesta:</strong> <%= @return_request.created_at.strftime("%d/%m/%Y %H:%M") %></p>

<p><strong>Stato:</strong> 
  <% case @return_request.stato %>
    <% when "in_attesa" %>
      <span class="badge bg-warning">In Attesa</span>
    <% when "approvato" %>
      <span class="badge bg-success">Approvato</span>
    <% when "rifiutato" %>
      <span class="badge bg-danger">Rifiutato</span>
    <% else %>
      <span class="badge bg-secondary"><%= @return_request.stato.present? ? @return_request.stato.capitalize : "Non Specificato" %></span>
  <% end %>
</p>

<% if current_user == @return_request.ordine.negozio.acquirente %>
  <%= button_to "Approva", approve_negozio_return_request_path(@return_request), method: :patch, class: "btn btn-success" %>
  <%= button_to "Rifiuta", reject_negozio_return_request_path(@return_request), method: :patch, class: "btn btn-danger" %>
<% end %>


<%= link_to "Torna ai Resi", negozio_return_requests_path, class: "btn btn-primary" %>
