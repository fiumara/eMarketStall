<h1>Richiesta di Reso</h1>

<%= form_with model: [@ordine, @return_request], local: true do |f| %>
  <div>
    <%= f.label :motivo, "Motivo del Reso" %>
    <%= f.text_field :motivo %>
  </div>

  <h2>Seleziona i prodotti da restituire</h2>
  <% @ordine.ordine_items.each_with_index do |ordine_item, index| %>
    <div>
      <%= check_box_tag "return_request[return_items_attributes][#{index}][prodotto_id]", ordine_item.prodotto.id, false, class: "prodotto-checkbox" %>
      <%= label_tag "return_request[return_items_attributes][#{index}][prodotto_id]", ordine_item.prodotto.nome_prodotto %>
      
      <%= number_field_tag "return_request[return_items_attributes][#{index}][quantita]", 1, min: 1, max: ordine_item.quantity, class: "quantita-input" %>
    </div>
  <% end %>
  

  <%= f.submit "Invia richiesta di reso" %>
<% end %>
