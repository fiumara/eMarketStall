<!DOCTYPE html>
<html>
<head>


  <title>Login</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag 'application', media: 'all' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
</head>
<body>
  <main>
    <h2><%= t("sessions.heading") %></h2>

    <% if flash[:alert] %>
      <p style="color: red;"><%= flash[:alert] %></p>
    <% end %>

    <%= form_with url: login_path, local: true do |form| %>
      <div>
        <%= form.label :role, t("sessions.role") %>
        <%= form.select :role, [[t("sessions.buyer"), 'acquirente'], [t("sessions.admin"), 'amministratore']], prompt: t("sessions.choose_role") %>
      </div>

      <div>
        <%= form.label :email, t("sessions.email") %>
        <%= form.text_field :email, autofocus: true, autocomplete: "email" %>
      </div>

      <div>
        <%= form.label :password, t("sessions.password") %>
        <%= form.password_field :password, autocomplete: "current-password" %>
      </div>

      <div>
        <%= form.submit t("sessions.login") %>
      </div>
    <% end %>

    <div>
      <%= link_to t("sessions.forgot_password"), new_password_reset_path %>
    </div>

    <p><%= t("sessions.or") %></p>
    <%= link_to t("sessions.login_google"), '/auth/google_oauth2' %>

    <div>
      <%= link_to t("sessions.signup"), signup_path, class: "btn" %>
    </div>
  </main>
</body>
</html>
